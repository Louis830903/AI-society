# AI Society 功能增强计划 v2.0

## 📋 计划概览

| 阶段 | 主题 | 核心功能 | 状态 |
|------|------|----------|------|
| **Phase 1** | 建筑物完整管理 | 新增/删除/编辑/拖拽 | 🔄 进行中 |
| **Phase 2** | 智能体完整管理 | 逐个创建/编辑/删除/指令 | ⏳ 待开始 |
| **Phase 3** | 世界控制中心 | 全局指令/规则/通知 | ⏳ 待开始 |
| **Phase 4** | 社交可视化 | 聊天气泡/对话观察 | ⏳ 待开始 |
| **Phase 5** | 健康监控增强 | 紧急需求操作/报表优化 | ⏳ 待开始 |

---

## 🏠 Phase 1: 建筑物完整管理系统

### 目标
让建筑物像"乐高积木"一样，可以随意增删、编辑属性、拖动摆放

### 1.1 后端 API 扩展

| 端点 | 方法 | 说明 | 状态 |
|------|------|------|------|
| `/api/locations` | POST | 创建建筑物 | ⏳ |
| `/api/locations/{id}` | PUT | 更新建筑物属性 | ⏳ |
| `/api/locations/{id}` | DELETE | 删除建筑物 | ⏳ |
| `/api/locations/{id}/position` | PATCH | 更新建筑物位置 | ⏳ |

### 1.2 前端组件

| 组件 | 说明 | 状态 |
|------|------|------|
| `BuildingEditPanel.tsx` | 建筑物编辑面板 | ⏳ |
| `BuildingCreateModal.tsx` | 新建建筑弹窗 | ⏳ |
| `locationStore.ts` | 建筑物状态管理 | ⏳ |
| `BuildingSprite.ts` 拖拽 | 添加拖拽逻辑 | ⏳ |

### 1.3 交互设计

#### 建筑物新增
- 点击地图空白处 → 右键菜单"新建建筑"
- 弹出创建面板，填写属性
- 支持在地图上预览位置

#### 建筑物编辑
- 选中建筑 → 详情面板 → "编辑"按钮
- 弹出编辑面板，可修改所有属性

#### 建筑物删除
- 选中建筑 → 详情面板 → "删除"按钮
- 确认后删除，内部智能体自动转移

#### 建筑物拖拽
- 选中建筑 → 进入编辑模式 → 拖动
- 松开后保存新位置

---

## 👤 Phase 2: 智能体完整管理系统

### 目标
从"观察者"升级到"上帝"，可以创建、编辑、删除、指挥任何智能体

### 2.1 功能列表

| 功能 | 说明 | 状态 |
|------|------|------|
| 逐个创建 | 带表单的智能体创建向导 | ⏳ |
| 属性编辑 | 修改姓名/职业/性格/资金等 | ⏳ |
| 删除智能体 | 带原因选择的删除流程 | ⏳ |
| 单体指令 | 给单个智能体下达命令 | ⏳ |

### 2.2 指令类型

- 移动到指定地点
- 与指定对象交谈
- 执行指定活动
- 自由文本指令

---

## 🌍 Phase 3: 世界控制中心

### 目标
给整个世界发号施令，像"城市市长"一样管理社会

### 3.1 功能列表

| 功能 | 说明 | 状态 |
|------|------|------|
| 世界广播 | 向所有智能体发布通知 | ⏳ |
| 世界规则 | 设置全局行为规则 | ⏳ |
| 世界事件 | 触发全局事件 | ⏳ |

---

## 💬 Phase 4: 社交可视化系统

### 目标
让对话"看得见"，像漫画气泡一样展示在地图上

### 4.1 功能列表

| 功能 | 说明 | 状态 |
|------|------|------|
| 聊天气泡 | 地图上显示对话气泡 | ⏳ |
| 对话列表 | 查看进行中的对话 | ⏳ |
| 对话详情 | 查看完整对话内容 | ⏳ |

---

## 📊 Phase 5: 健康监控增强

### 目标
从"只看不动"到"看到问题就能解决"

### 5.1 功能列表

| 功能 | 说明 | 状态 |
|------|------|------|
| 紧急需求操作 | 问题有对应的解决按钮 | ⏳ |
| 健康指标细化 | 更多维度的健康评估 | ⏳ |
| 健康报表 | 详细的健康状况报告 | ⏳ |

---

## 📝 执行日志

### 2026-02-16
- 创建功能增强计划 v2.0
- 开始执行 Phase 1: 建筑物完整管理系统
